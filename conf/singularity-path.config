singularity.enabled = true
singularity.autoMounts = true

process {
    withName: 'annotate_genome|make_blastdb|blast_genes|blast_primers|blast_proteins|plasmid_blast' {
        container = "${params.containerPath}/annotate_genome-${manifest.container_version}.simg"
    }
    withName: 'update_antimicrobial_resistance|antimicrobial_resistance' {
        container = "${params.containerPath}/antimicrobial_resistance-${manifest.container_version}.simg"
    }
    withName: ariba_analysis {
        container = "${params.containerPath}/ariba_analysis-${manifest.container_version}.simg"
    }
    withName: assemble_genome {
        container = "${params.containerPath}/assemble_genome-${manifest.container_version}.simg"
    }
    withName: assembly_qc {
        container = "${params.containerPath}/assembly_qc-${manifest.container_version}.simg"
    }
    withName: 'call_variants|call_variants_auto|mapping_query' {
        container = "${params.containerPath}/call_variants-${manifest.container_version}.simg"
    }
    withName: count_31mers {
        container = "${params.containerPath}/count_31mers-${manifest.container_version}.simg"
    }
    withName: download_references {
        container = "${params.containerPath}/download_references-${manifest.container_version}.simg"
    }
    withName: 'estimate_genome_size|minmer_sketch|minmer_query' {
        container = "${params.containerPath}/minmers-${manifest.container_version}.simg"
    }
    withName: 'gather_fastqs' {
        container = "${params.containerPath}/gather_fastqs-${manifest.container_version}.simg"
    }
    withName: 'fastq_status|qc_reads|qc_original_summary|qc_final_summary' {
        container = "${params.containerPath}/qc_reads-${manifest.container_version}.simg"
    }
    withName: sequence_type {
        container = "${params.containerPath}/sequence_type-${manifest.container_version}.simg"
    }
}
