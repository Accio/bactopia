/*

*/
profiles {
    standard {
        process {
            withName: annotate_genome {
                conda = "${baseDir}/conda/annotate_genome.yml"
            }
            withName: ariba_analysis {
                conda = "${baseDir}/conda/ariba_analysis.yml"
            }
            withName: assemble_genome {
                conda = "${baseDir}/conda/assemble_genome.yml"
            }
            withName: blast_query {
                conda = "${baseDir}/conda/annotate_genome.yml"
            }
            withName: 'call_variants|call_variants_auto' {
                conda = "${baseDir}/conda/call_variants.yml"
            }
            withName: count_31mers {
                conda = "${baseDir}/conda/count_31mers.yml"
            }
            withName: download_references {
                conda = "${baseDir}/conda/download_references.yml"
            }
            withName: 'estimate_genome_size|minmer_sketch|minmer_query' {
                conda = "${baseDir}/conda/minmers.yml"
            }
            withName: insertion_sequences {
                conda = "${baseDir}/conda/insertion_sequences.yml"
            }
            withName: mapping_query {
                conda = "${baseDir}/conda/call_variants.yml"
            }
            withName: plasmid_blast {
                conda = "${baseDir}/conda/annotate_genome.yml"
            }
            withName: 'qc_reads|qc_original_summary|qc_final_summary' {
                conda = "${baseDir}/conda/qc_reads.yml"
            }
            withName: sequence_type {
                conda = "${baseDir}/conda/sequence_type.yml"
            }
        }
    }

    docker {
        process {
            withName: annotate_genome {
                container = "bactopia/annotate_genome"
            }
            withName: ariba_analysis {
                container = "bactopia/ariba_analysis"
            }
            withName: assemble_genome {
                container = "bactopia/assemble_genome"
            }
            withName: blast_query {
                container = "bactopia/annotate_genome"
            }
            withName: 'call_variants|call_variants_auto' {
                container = "bactopia/call_variants"
            }
            withName: count_31mers {
                container = "bactopia/count_31mers"
            }
            withName: download_references {
                container = "bactopia/download_references"
            }
            withName: 'estimate_genome_size|minmer_sketch|minmer_query' {
                container = "bactopia/minmers"
            }
            withName: insertion_sequences {
                container = "bactopia/insertion_sequences"
            }
            withName: mapping_query {
                container = "bactopia/call_variants"
            }
            withName: plasmid_blast {
                container = "bactopia/annotate_genome"
            }
            withName: 'qc_reads|qc_original_summary|qc_final_summary' {
                container = "bactopia/qc_reads"
            }
            withName: sequence_type {
                container = "bactopia/sequence_type"
            }
        }
        docker.enabled = true
    }

    singularity {
        singularity.enabled = true
    }
}
